# zhihu-favorite: Collect what you want

**Zhihu-Favorite**是一款基于Python3.8的命令行程序，提供一种简单快捷的方式本地化收藏知乎上的内容，包括答案、文章、视频、图片以及与此相关的集合，如：问题、专栏、收藏夹，格式上尽可能与知乎上的保持一致。

使用者提供知乎上对应项目的链接获取数据，数据经解析后最终输出为**Markdown**或**HTML**文件存储到本地，同时可下载内容附带的图片。

## 对象

支持收藏的对象包括：**答案**、**文章**、**视频**、**图片**、**问题**、**专栏**、**收藏夹**

目前程序可以将专栏和收藏夹中的内容全部本地化收藏，对于问题下的答案仅支持依据点赞数量递减的排序收藏前百分之二，即高赞答案。

## 更新

- 修复收藏夹、专栏收藏失败；
- 新增支持：下载视频、仅下载图片、去除多媒体仅保留文本、同时输出HTML和Markdown；
- 优化控制台输出，新增表格形式输出、进度条动态更新进度；
- 代码结构优化，程序功能、细节优化。

## 使用

- Git克隆项目或下载ZIP包到本地获得源码，在`setup.py`文件所在目录打开命令行窗口输入命令：`python setup.py install`，安装项目到本地。

- 在命令行输入：`zhihu -h`，获得帮助信息：

```powershell
  -u U                 收藏对象链接
  -r R                 从文本读取收藏对象链接（每行一个）
  -w W                 文件保存位置
  -f F                 文件输出类型(html/md/all)
  -dg                  附带下载图片
  -log, --login        临时登录知乎
  -log2, --login-long  长期登录知乎
  --remove-media       移除多媒体，仅保留文案文本
  --image-only         只下载图片不收藏文案
  -cd                  缓存原始数据
  -cso                 输出css文件
  -v, --version        版本信息
  -h, --help           帮助
提示：长期登录知乎后，如需退出知乎，可临时登录知乎一次。(zhihu -log)
```

## 示例：

- 收藏答案(默认输出HTML，这里同时输出HTML和Markdown)，如果需要同时下载其中的插图，则添加`-dg`选项：
```powershell
zhihu -u https://www.zhihu.com/question/296752647/answer/1092094945 -f all -dg
```

- 如果只需要收藏其中的插图而不需要收藏文案，则使用如下命令：
```powershell
zhihu -u https://www.zhihu.com/question/296752647/answer/1092094945 --image-only
```

- 如果希望移除文案中没有必要的插图，只保留文本，则使用如下命令：
```powershell
zhihu -u https://www.zhihu.com/question/296752647/answer/1092094945 --remove-media
```

```
zhihu -u https://www.zhihu.com/question/296752647/answer/1092094945 --image-only
=============================================================
:: Answer :: | 点赞：40829
为什么很多人都觉得杨超越的颜值惊为天人，甚至说是超高颜值？
*************************************************************
:: 图　片：[###########################################] 100%
:: 保存至：[C:\Users\xxxxx\Documents\Zhihu-favorite\Answer]
=============================================================
```
